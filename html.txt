import random
import uuid

# Пользователи отправляют средства
incoming_transactions = [
    {"from": "Alice", "amount": 1.0},
    {"from": "Bob", "amount": 0.5},
    {"from": "Charlie", "amount": 0.75},
    {"from": "Dave", "amount": 0.25}
]

# Все монеты попадают в общий пул
total_pool = sum(tx["amount"] for tx in incoming_transactions)
print(f"[+] Total pooled amount: {total_pool:.2f} BTC\n")

# Создаём список адресов получателей
output_addresses = [str(uuid.uuid4()) for _ in incoming_transactions]

# Перемешиваем адреса
random.shuffle(output_addresses)

# Создаём выходящие транзакции
outgoing_transactions = []
for tx, address in zip(incoming_transactions, output_addresses):
    outgoing_transactions.append({
        "to": address,
        "amount": tx["amount"]
    })

# Вывод результата
print("[+] Outgoing mixed transactions:")
for tx in outgoing_transactions:
    print(f" → Sent {tx['amount']} BTC to {tx['to']}")